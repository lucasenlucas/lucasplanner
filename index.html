<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lucas Planner</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://apis.google.com/js/api.js"></script>
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <!-- Alleen zichtbaar als GEEN PWA -->
  <div id="errorView" style="display: none; height: 100vh; background: #1F2937; color: white; font-family: sans-serif; display: flex; align-items: center; justify-content: center; font-size: 22px;">
    ❌ Error code: 404 – Alleen toegankelijk via de PWA
  </div>

  <!-- Alleen zichtbaar als PWA én ingelogd -->
  <div id="appView" style="display: none; padding: 20px;">
    <h1>Welkom bij Lucas Planner 📅</h1>
    <p>Je bent ingelogd en zit in de juiste omgeving 😎</p>

    <hr style="margin: 20px 0;" />

    <h2>🔄 Test Google Drive Upload</h2>
    <input type="text" id="noteTitle" placeholder="Bestandsnaam (zonder .txt)" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: none;" />
    <textarea id="noteContent" placeholder="Typ hier je notitie..." rows="5" style="width: 100%; padding: 10px; border-radius: 8px; border: none;"></textarea>
    <br />
    <button onclick="uploadNoteToDrive()" style="margin-top: 10px; padding: 10px 20px; font-size: 16px; background-color: #4A90E2; color: white; border: none; border-radius: 8px; cursor: pointer;">
      Uploaden naar Drive
    </button>
  </div>

  <!-- Detecteer of PWA -->
  <script>
    const isInPWA = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
    if (isInPWA) {
      document.getElementById("appView").style.display = "block";
    } else {
      document.getElementById("errorView").style.display = "flex";
    }
  </script>
</body>
</html>
